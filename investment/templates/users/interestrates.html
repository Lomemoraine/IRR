{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block content %}

<section class="p-1 h-full dark:bg-gray-800 dark:text-gray-50">
    <form action="" class="container flex flex-col mx-auto space-y-10 ng-untouched ng-pristine ng-valid" method="POST"
          novalidate="">
        {% csrf_token %}
        <h2 class="font-medium text-center dark:text-gray-200">Interest Rates</h2>
        <fieldset class="p-3 rounded-md shadow-sm dark:bg-gray-900">
            <div class="flex flex-row">
                {% for field in form %}
                <div class="flex-1 w-full sm:w-1/3 p-1">
                    {{ field|as_crispy_field }}
                </div>
                {% endfor %}
            </div>
            <div class="flex flex-wrap">
                {% for field in formset %}
                <div class="flex-1 sm:w-1/3 p-2">
                    <label class="block font-bold text-white" name="{{ field.year.label }}">
                        {{ field.year.label }}
                        <input class="dark:bg-gray-900 text-white rounded-md p-2" name="{{ field.year.label }}"
                               readonly type="text" value="{{ field.year.value }}">
                        <input class="bg-gray-800 text-black border border-gray-600 rounded-md p-2"
                               name="{{ field.rate.label }}" type="text" value="{{ field.rate.value }}">
                    </label>
                </div>
                {% endfor %}
            </div>
        </fieldset>
        <button class="w-screen px-8 py-3 font-semibold rounded-md dark:bg-gray-100 dark:text-gray-900" type="submit">
            Submit
        </button>
        {% if form.is_valid %}
        <p class="text-green-500 font-medium mt-4 text-center">Form is valid</p>
        {% endif %}
    </form>
</section>

{% endblock%}