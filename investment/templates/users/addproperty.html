{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block content %}

<section class="p-2 dark:bg-gray-800 dark:text-gray-50">
    <form action="" class="container flex flex-col mx-auto space-y-10 ng-untouched ng-pristine ng-valid" method="POST"
          novalidate="">
        {% csrf_token %}
        <h2 class="font-medium text-center dark:text-gray-200">Add Property</h2>
        <fieldset class="grid grid-cols-12 gap-6 p-6 rounded-md shadow-sm dark:bg-gray-900">
            <div class="grid grid-cols-6 gap-4 col-span-full lg:col-span-3">
                <div class="col-span-full sm:col-span-3">
                    {{ property_form.name|as_crispy_field }}
                </div>
                <div class="col-span-full sm:col-span-3">
                    {{ property_form.property_type|as_crispy_field }}
                </div>
                <div class="col-span-full sm:col-span-3">
                    {{ property_form.purchase_price|as_crispy_field }}
                </div>
                <div class="col-span-full sm:col-span-3">
                    {{ property_form.deposit|as_crispy_field }}
                </div>
                <div class="col-span-full sm:col-span-3">
                    {{ property_form.city|as_crispy_field }}
                </div>
                <div class="col-span-full sm:col-span-3">
                    {{ property_form.bond_value|as_crispy_field }}
                </div>
                <div class="col-span-full">
                    <div class="col-span-full sm:col-span-3">
                        {{ property_form.notes|as_crispy_field }}
                    </div>
                </div>
            </div>
        </fieldset>
        <button class="w-full px-8 py-3 font-semibold rounded-md dark:bg-gray-100 dark:text-gray-900"
                type="submit">
            Submit
        </button>
    </form>
</section>
<script>
    var purchase_price = document.getElementById("purchase_price");
    var deposit = document.getElementById("deposit");
    function calculate() {
        var purchase_price = parseFloat(document.getElementById("purchase_price").value);
        var deposit = parseFloat(document.getElementById("deposit").value);
        var bond_value = purchase_price - deposit;
        document.getElementById("bond_value").value = bond_value;
    }
    purchase_price.addEventListener("change", calculate);
    deposit.addEventListener("change", calculate);

</script>
<!--<div class="container-fluid property-list">-->
<!--    <div class="row">-->
<!--        <div class="col-6"-->
<!--             style="background-image: url(https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8cHJvcGVydHl8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60); background-repeat: no-repeat; background-size:cover;">-->
<!--        </div>-->
<!--        <div class="col-6">-->
<!--            <form method="POST" class="m-1">-->
<!--                {% csrf_token %}-->
<!--                {{ property_form|crispy }}-->
<!--                {% if form.errors %}-->
<!--                <ul>-->
<!--                    {% for field in form %}-->
<!--                    {% for error in field.errors %}-->
<!--                    <li>{{ error }}</li>-->
<!--                    {% endfor %}-->
<!--                    {% endfor %}-->
<!--                </ul>-->
<!--                {% endif %}-->
<!--                <button type='submit' class="btn btn-primary m-3">Submit</button>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
{% endblock %}